<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>Stytch Android UI</title>
<link href="../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../scripts/sourceset_dependencies.js" async></script>
<link href="../styles/style.css" rel="Stylesheet">
<link href="../styles/main.css" rel="Stylesheet">
<link href="../styles/prism.css" rel="Stylesheet">
<link href="../styles/logo-styles.css" rel="Stylesheet">
<link href="../styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../scripts/main.js" defer></script>
<script type="text/javascript" src="../scripts/prism.js" async></script>
<script type="text/javascript" src="../scripts/symbol-parameters-wrapper_deferred.js" defer></script>
<link href="../styles/multimodule.css" rel="Stylesheet"></head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
<a class="library-name--link" href="../index.html">
                            Stytch Android SDK
                    </a>            </div>
            <div class="library-version">
            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":ui:dokkaHtmlPartial/release">androidJvm</button>
        </div>
    </div>
    <div class="navigation-controls">
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" id="content" pageids="Stytch Android UI::////PointingToDeclaration//-587146753">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>Stytch</span></span> <span><span>Android</span></span> <span><span>UI</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":ui:dokkaHtmlPartial/release"><p class="paragraph"><a href="https://stytch.com">Stytch</a> is an authentication platform, written by developers for developers, with a focus on improving security and user experience via passwordless authentication. Stytch offers direct API integrations, language-specific libraries, and SDKs (like this one) to make the process of setting up an authentication flow for your app as easy as possible.</p><p class="paragraph">The module contains our pre-built UI components, and incorporates our headless SDK under-the-hood, so you can use both together, or the UI on it's own, depending on your project's needs.</p><p class="paragraph">Currently, only Stytch Consumer projects are supported.</p><h2 class=""> Requirements</h2><p class="paragraph">This SDK supports Android API level 23 and above (<a href="https://developer.android.com/about/dashboards/index.html">distribution stats</a>)</p><h2 class=""> Installation and setup</h2><p class="paragraph">To start using the Stytch Android UI SDK, import the following dependency:</p><div class="sample-container"><pre><code class="block lang-groovy" theme="idea">implementation("com.stytch.sdk:ui:latest")</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Add the necessary manifest placeholders for our OAuth manager/receiver activities (if you are not using our Third-Party OAuth providers, you must still include this, but can leave the values blank). These values can be any valid scheme or host, and do not relate to your OAuth settings in the Stytch Dashboard. These are only used internally within your app to register a receiver activity. More information is available in the ../sdk/src/main/java/com/stytch/sdk/consumer/oauth.</p><div class="sample-container"><pre><code class="block lang-groovy" theme="idea">android {<br>    defaultConfig {<br>        manifestPlaceholders = [<br>            'stytchOAuthRedirectScheme': '[YOUR_AUTH_SCHEME]', // eg: 'app'<br>            'stytchOAuthRedirectHost': '[YOUR_AUTH_HOST]', // eg: 'myhost'<br>            'STYTCH_UI_PUBLIC_TOKEN': '[YOUR_PUBLIC_TOKEN]' // we use this to setup deeplink handlers<br>        ]<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Getting app secrets ready</h3><ol><li><p class="paragraph">Go to https://stytch.com/dashboard, and sign up/log in with your email address.</p></li><li><p class="paragraph">Once you are on the dashboard, click on the "API Keys" tab on the left. Scroll down to the "Public tokens" section    and copy your public token.</p></li><li><p class="paragraph">In your android app, before you call any other part of the Stytch SDK, you must first call    the <code class="lang-kotlin">configure</code> function and pass in your applicationContext and public token:</p></li></ol><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">import com.stytch.sdk.consumer.StytchClient<br><br>StytchClient.configure(<br>    context = application.applicationContext,<br>    publicToken = BuildConfig.STYTCH_PUBLIC_TOKEN<br>)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Setting up deelinks</h3><p class="paragraph">In the Stytch Dashboard, ensure you add the following URL as a redirect URL for Signups, Logins, and Password Resets:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">"stytchui-[YOUR_PUBLIC_TOKEN]://deeplink"</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This enables the Stytch UI to intercept all incoming magic links and handle them appropriately</p><h3 class=""> Setting up the UI</h3><p class="paragraph">The Stytch UI uses the Builder pattern to initialize the UI, and allows you to fully customize the look, feel, and supported products.</p><p class="paragraph">Within your host activity, define the UI and any configuration options you would like. An example is below:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">import com.stytch.sdk.ui.StytchUI<br>private val stytchUi = StytchUI.Builder().apply {<br>    activity(this@MyActivity)<br>    productConfig(<br>        StytchProductConfig(<br>            products = listOf(<br>                StytchProduct.OAUTH,<br>                StytchProduct.EMAIL_MAGIC_LINKS,<br>                StytchProduct.OTP,<br>                StytchProduct.PASSWORDS,<br>            ),<br>            googleOauthOptions = GoogleOAuthOptions(<br>                clientId = BuildConfig.GOOGLE_OAUTH_CLIENT_ID<br>            ),<br>            oAuthOptions = OAuthOptions(<br>                loginRedirectURL = "uiworkbench://oauth", // This should match what you defined in your manifestPlaceholders in the section above<br>                signupRedirectURL = "uiworkbench://oauth", // This should match what you defined in your manifestPlaceholders in the section above<br>                providers = listOf(OAuthProvider.GOOGLE, OAuthProvider.APPLE, OAuthProvider.GITHUB)<br>            ),<br>            otpOptions = OTPOptions(<br>                methods = listOf(OTPMethods.SMS, OTPMethods.WHATSAPP),<br>            )<br>        )<br>    )<br>    onAuthenticated {<br>        when (it) {<br>            is StytchResult.Success -&gt; {<br>                Toast.makeText(this@UiWorkbenchActivity, "Authentication Succeeded", Toast.LENGTH_LONG).show()<br>            }<br>            is StytchResult.Error -&gt; {<br>                Toast.makeText(this@UiWorkbenchActivity, it.exception.message, Toast.LENGTH_LONG).show()<br>            }<br>        }<br>    }<br>}.build()</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Then, simply call the <code class="lang-kotlin">authenticate</code> method from your UI to launch the Stytch UI:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Button(modifier = Modifier.fillMaxSize(), onClick = stytchUi::authenticate) {<br>   Text("Launch Authentication")<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">The result of the authentication flow, either successful or not, will be reported to the <code class="lang-kotlin">onAuthenticated</code> handler that you specified when building the StytchUI instance.</p><h3 class=""> Example</h3><p class="paragraph">An example of all of the above can be found within the ../uiworkbench module in this repository</p></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="533866986%2FPackages%2F-587146753" anchor-label="com.stytch.sdk.ui" id="533866986%2FPackages%2F-587146753" data-filterable-set=":ui:dokkaHtmlPartial/release"></a>
    <div class="table-row" data-filterable-current=":ui:dokkaHtmlPartial/release" data-filterable-set=":ui:dokkaHtmlPartial/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="com.stytch.sdk.ui/index.html">com.stytch.sdk.ui</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="533866986%2FPackages%2F-587146753"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
<a data-name="700692402%2FPackages%2F-587146753" anchor-label="com.stytch.sdk.ui.data" id="700692402%2FPackages%2F-587146753" data-filterable-set=":ui:dokkaHtmlPartial/release"></a>
    <div class="table-row" data-filterable-current=":ui:dokkaHtmlPartial/release" data-filterable-set=":ui:dokkaHtmlPartial/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="com.stytch.sdk.ui.data/index.html">com.stytch.sdk.ui.data</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="700692402%2FPackages%2F-587146753"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Â© 2024 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>

