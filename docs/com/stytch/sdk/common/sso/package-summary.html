<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en"><head>
    <title>Package com.stytch.sdk.common.sso </title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="dc.created" content="2020-03-25">
    <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
    <link rel="stylesheet" type="text/css" href="../../../../../dokka-javadoc-stylesheet.css" title="Style">
    <link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
    <script type="text/javascript" src="../../../../../jquery/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.4.0.min.js"></script>
    <script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>

    <script type="text/javascript" src="../../../../../search.js"></script>
    <script async type="text/javascript" src="../../../../../module-search-index.js"></script>
    <script async type="text/javascript" src="../../../../../package-search-index.js"></script>
    <script async type="text/javascript" src="../../../../../type-search-index.js"></script>
    <script async type="text/javascript" src="../../../../../member-search-index.js"></script>
    <script async type="text/javascript" src="../../../../../tag-search-index.js"></script>
</head><body>
<script type="text/javascript">
var pathtoroot = "../../../../../";
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript><header role="banner">
    <nav role="navigation">
        <div class="fixedNav">
            <!-- ========= START OF TOP NAVBAR ======= -->
            <div class="topNav"><a id="navbar.top">
                <!--   -->
            </a>
                <div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a>
                </div>
                <a id="navbar.top.firstrow">
                    <!--   -->
                </a>
                <ul class="navList" title="Navigation">
    <li><a href="../../../../../index.html">Overview</a></li>
    
    <li class="navBarCell1Rev">Package</li>
    
    <li>Class</li>
    
    <li><a href="package-tree.html">Tree</a></li>
    
    <li><a href="../../../../../deprecated.html">Deprecated</a></li>
    <li><a href="../../../../../index-files/index-1.html">Index</a></li>
    <li>Help</li>
</ul></div>
            <div class="subNav">
<ul class="navList" id="allclasses_navbar_top" style="display: block;">
    <li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>

<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" class="ui-autocomplete-input" autocomplete="off" placeholder="Search">
<input type="reset" id="reset" value="reset">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div><!-- ========= END OF TOP NAVBAR ========= -->
        </div>
        <div class="navPadding">&nbsp;</div>
        <script type="text/javascript"><!--
        $('.navPadding').css('padding-top', $('.fixedNav').css("height"));
        //-->
        </script>
    </nav>
</header>
<main role="main">
    <div class="header">
        <h1 title="Package" class="title">Package com.stytch.sdk.common.sso </h1>
    </div>
        <div class="header">
            <div class="subtitle">
                <div class="block"><p>Contains shared OAuth/SSO implementation code.</p><p>Our Third Party OAuth and SSO flows follow the model of <a href=https://github.com/openid/AppAuth-Android/.html>AppAuth-Android</a></p><p>It consists of a &quot;manager&quot; activity that handles the state management of the OAuth/SSO flow and starting the authentication flow in the user's browser, and a &quot;receiver&quot; activity which handles receiving the authentication deeplink. By using this manager/receiver pattern we can ensure better control over the backstack, preventing navigation from keeping authorization activities in the backstack.</p><p>The below diagram explains more about the manager/receiver activities and how they relate to the backstack:</p><pre><code> 
                           Back Stack Towards Top
                 +------------------------------------------&gt;
 
  +------------+            +---------------+      +----------------+      +--------------+
  |            |     (1)    |               | (2)  |                | (S1) |              |
  | Initiating +-----------&gt;|   SSOManager  +-----&gt;| Authorization  +-----&gt;|  SSOReceiver |
  |  Activity  |            |   Activity    |      |   Activity     |      |   Activity   |
  |            |&lt;-----------+               |&lt;-----+ (e.g. browser) |      |              |
  |            | (S3, C2)   |               | (C1) |                |      |              |
  +------------+            +-------+-------+      +----------------+      +-------+------+
                                    ^                                              |
                                    |                   (S2)                       |
                                    +----------------------------------------------+
 
  - Step 1: OAuth/SSO intiates an intent which launches this (no-ui) activity
  - Step 2: This activity determines the best browser to launch the authorization flow in, and launches it. Depending
    on user action, we then enter either a cancellation (C)  or success (S) flow
 
  Cancellation (C) flow:
  If the user cancels the authorization, we are returned to this Activity at the top of the backstack (C1). Since no
  return URI is provided, we know the user cancelled, and return a RESULT_CANCELED result for the original intent (C2)
  and finish the activity. The calling activity will listen for this result and either provide messaging for the user
  if the error returned is one of NO_BROWSER_FOUND or NO_URI_FOUND, or (most likely) do nothing if it is USER_CANCELED.
 
  Success (S) flow:
  When the user completes authorization, the SSOReceiverActivity is launched (S1), as specified in the manifest. That
  activity will launch this activity (S2) via an intent with CLEAR_TOP set, so that the authorization activity and
  receiver activity are destroyed leaving this activity at the top of the backstack. This activity will then return a
  RESULT_OK status for the original intent and pass along the returned URI, then finish itself (S3). The calling
  activity will listen for this result and use the returned URI to make the authorization call to the Stytch API.</code></pre></div>
            </div>
            <p>See: <a href="#overview_description">Description</a></p>
        </div>
    <div class="contentContainer">
        
            <ul class="blockList">
                
                <li class="blockList">
                    
                    
                    
                    
                    
    <div class="typeSummary">

<table>
<caption><span>Object Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Object</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>

    <tr class="altColor"><th class="colFirst" scope="row"><a href=SSOError.NoBrowserFound.html>NoBrowserFound</a></th><td class="colLast">Indicates that no suitable browser was found on this device, and OAuth authentication cannot proceed.</td></tr>

    <tr class="rowColor"><th class="colFirst" scope="row"><a href=SSOError.NoURIFound.html>NoURIFound</a></th><td class="colLast">Indicates that no URI was found in the activity state, and OAuth authentication cannot proceed.</td></tr>

    <tr class="altColor"><th class="colFirst" scope="row"><a href=SSOError.UserCanceled.html>UserCanceled</a></th><td class="colLast">Indicates that the user canceled the OAuth flow.</td></tr>
</tbody>
</table>

    </div>

                </li>
                
                <li class="blockList">
                    
                    
                    
                    
                    
    <div class="typeSummary">

<table>
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>

    <tr class="altColor"><th class="colFirst" scope="row"><a href=SSOError.html>SSOError</a></th><td class="colLast">Represents one of three potential errors encountered during the Third party OAuth or SSO authentication flow.</td></tr>
</tbody>
</table>

    </div>

                </li>
                
            </ul>
        
    </div>
</main>
<footer role="contentinfo">
    <nav role="navigation">
        <!-- ======= START OF BOTTOM NAVBAR ====== -->
        <div class="bottomNav"><a id="navbar.bottom">
            <!--   -->
        </a>
            <div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a>
            </div>
            <a id="navbar.bottom.firstrow">
                <!--   -->
            </a>
            <ul class="navList" title="Navigation">
    <li><a href="../../../../../index.html">Overview</a></li>
    
    <li class="navBarCell1Rev">Package</li>
    
    <li>Class</li>
    
    <li><a href="package-tree.html">Tree</a></li>
    
    <li><a href="../../../../../deprecated.html">Deprecated</a></li>
    <li><a href="../../../../../index-files/index-1.html">Index</a></li>
    <li>Help</li>
</ul></div>
        <a id="skip.navbar.bottom">
            <!--   -->
        </a>
        <div class="subNav">
<ul class="navList" id="allclasses_navbar_top" style="display: block;">
    <li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div><!-- ======== END OF BOTTOM NAVBAR ======= -->
    </nav>
</footer><ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content" id="ui-id-1" tabindex="0"
    style="display: none;"></ul>
<span role="status" aria-live="assertive" aria-relevant="additions" class="ui-helper-hidden-accessible"></span>
</body>
</html>
